<!DOCTYPE html>
<html>
  <head>
    <title>Rock-Paper-Scissors</title>
  </head>
  <body>
    <p>Rock Paper Scissors</p>
    <button onclick="
        playGame('rock');
      ">Rock</button>
      <button onclick=" 
        
        playGame('paper');

    ">Paper</button>
    <button onclick="
        playGame('scissors');
    ">Scissors</button>
    
    <p class="js-result"></p>
    <p class="js-moves"></p>
    <p class="js-score"></p>
    <button onclick="
      score.Wins = 0;
      score.Losses = 0;
      score.Ties = 0;
      localStorage.removeItem('score');
      updateScoreElement();
    ">Reset Score</button>

    <script>
     

      const score = JSON.parse(localStorage.getItem('score')) ||{
          Wins: 0,
          Losses: 0,
          Ties: 0
        };
       /*
      if(!score){
        score = {
          Wins: 0,
          Losses: 0,
          Ties: 0
        };
      }
      */

     updateScoreElement();
    
     function playGame(playerMove){
        const computerMove = pickComputerMove();
        
          let result = '';


        if(playerMove === 'scissors') {
              if(computerMove === 'Rock'){
              result = 'You lose';
            }else if(computerMove === 'Paper'){
              result = 'You win';
            }else if(computerMove === 'Scissors'){
              result = 'Tie';
            }
        } else if(playerMove === 'paper'){
          if(computerMove === 'Rock'){
            result = 'You win';
          }else if(computerMove === 'Paper'){
            result = 'Tie';
          }else if(computerMove === 'Scissors'){
            result = 'You lose';
          }
        } else if (playerMove === 'rock'){
          if(computerMove === 'Rock'){
            result = 'Tie';
          }else if(computerMove === 'Paper'){
            result = 'You lose';
          }else if(computerMove === 'Scissors'){
            result = 'You win';
          }

        }
        if(result === 'You win'){
            score.Wins += 1;
        }
        else if(result === 'You lose'){
          score.Losses += 1;
        }
        else if(result === 'Tie'){
        score.Ties += 1;
       }
       updateScoreElement();
       localStorage.setItem('score', JSON.stringify(score));

       document.querySelector('.js-result').innerHTML = result;
       document.querySelector('.js-moves').innerHTML = `You ${playerMove}-${computerMove} Computer.`;
       
      
       }
       
     function updateScoreElement(){
      document.querySelector('.js-score')
      .innerHTML = `Wins: ${score.Wins}, Losses: ${score.Losses}, Ties: ${score.Ties}`;
     } 

     function pickComputerMove(){
      const randomNumber = Math.random();
         let computerMove = '';
        
        if (randomNumber>=0 && randomNumber<1/3){
          computerMove = 'Rock';
        }
        else if(randomNumber>=1/3 && randomNumber<2/3){
          computerMove = 'Paper';
        }
        else if(randomNumber>=2/3 && randomNumber<1){
          computerMove = 'Scissors';
    
        }
        return computerMove;
      }

      
    </script>
  </body>
</html>